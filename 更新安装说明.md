# Git Blame Status Bar 插件 - 更新版安装说明

## 🔄 插件已更新！

新版本已构建完成，包含了更好的状态栏集成和编辑器监听机制。

**新插件文件位置：**
```
build/distributions/git-blame-statusbar-plugin-1.0-SNAPSHOT.zip
```

## 📦 安装步骤

### 1. 卸载旧版本（如果已安装）
1. 打开 IntelliJ IDEA
2. 进入 **File** → **Settings** → **Plugins**
3. 在已安装插件中找到 "Git Blame Status Bar"
4. 点击卸载并重启 IDEA

### 2. 安装新版本
1. 重新进入 **Settings** → **Plugins**
2. 点击齿轮图标 ⚙️ → **Install Plugin from Disk...**
3. 选择新构建的文件：
   ```
   C:\Users\admin\Downloads\idea-git-blame-plugin\build\distributions\git-blame-statusbar-plugin-1.0-SNAPSHOT.zip
   ```
4. 安装并重启 IDEA

## 🔍 验证插件是否工作

安装后检查以下几点：

### 1. 检查插件是否已启用
- 进入 **Settings** → **Plugins**
- 确认 "Git Blame Status Bar" 显示为已启用状态

### 2. 检查状态栏
- 打开任何项目
- 查看底部状态栏右侧
- 应该能看到类似以下信息之一：
  - `Git Blame Ready` (初始状态)
  - `No Editor` (没有打开编辑器)
  - `No File` (没有打开文件)
  - `Git: Line X` (显示行号信息)

### 3. 测试功能
1. 打开一个 Git 项目
2. 打开任意被 Git 跟踪的文件
3. 移动光标到不同行
4. 观察状态栏信息是否更新

## 🛠️ 故障排除

### 问题1：状态栏没有显示任何信息
**解决方案：**
1. 确认插件已正确安装并启用
2. 重启 IntelliJ IDEA
3. 检查状态栏是否被隐藏：**View** → **Appearance** → **Status Bar**

### 问题2：显示 "No Editor" 或 "No File"
**解决方案：**
1. 确保有文件在编辑器中打开
2. 尝试打开不同的文件
3. 检查文件是否在 Git 仓库中

### 问题3：只显示 "Git: Line X" 而不是真实的 blame 信息
**说明：** 当前版本显示的是简化信息。这是正常的，表示插件正在工作。

### 问题4：插件安装失败
**解决方案：**
1. 确认 IDEA 版本兼容性（支持 233-263）
2. 检查插件文件是否完整下载
3. 尝试重新构建插件：
   ```bash
   .\gradlew.bat clean buildPlugin
   ```

## 📋 当前功能状态

✅ **已实现：**
- 状态栏组件正确注册
- 编辑器事件监听
- 光标位置跟踪
- 基本信息显示

🔄 **待完善：**
- 真实 Git blame 信息获取
- 更详细的提交信息显示
- 错误处理优化

## 🎯 下一步开发

如需显示真实的 Git blame 信息，需要进一步完善 `GitBlameService.kt` 中的实现，集成真正的 Git 命令调用。

## 📞 技术支持

如果遇到问题，请检查：
1. IntelliJ IDEA 版本是否为 233.x (2023.3) 或更高
2. 项目是否为 Git 仓库
3. Git4Idea 插件是否已启用（IDEA 内置）