# Git Blame Status Bar 插件构建说明

## 插件功能
这是一个 IntelliJ IDEA 插件，用于在状态栏显示当前光标行的 Git blame 信息，包括：
- 提交人
- 提交信息  
- 提交时间

## 项目结构
```
git-blame-statusbar-plugin/
├── build.gradle.kts          # Gradle 构建配置
├── settings.gradle.kts       # Gradle 设置
├── gradle.properties         # Gradle 属性
├── src/main/
│   ├── kotlin/com/example/gitblame/
│   │   ├── GitBlameStatusBarWidget.kt      # 状态栏组件
│   │   ├── GitBlameStatusBarWidgetFactory.kt # 组件工厂
│   │   ├── GitBlameService.kt              # Git blame 服务
│   │   └── GitBlameEditorListener.kt       # 编辑器监听器
│   └── resources/META-INF/
│       └── plugin.xml                      # 插件配置
└── README.md
```

## 构建步骤

### 1. 环境要求
- Java 17+
- IntelliJ IDEA 2023.3+
- 网络连接（用于下载依赖）

### 2. 构建命令
```bash
gradlew clean buildPlugin
```

### 3. 构建产物
构建成功后，插件文件位于：
```
build/distributions/git-blame-statusbar-plugin-1.0-SNAPSHOT.zip
```

## 安装方法

1. 在 IntelliJ IDEA 中打开 Settings > Plugins
2. 点击齿轮图标，选择 "Install Plugin from Disk..."
3. 选择构建生成的 zip 文件
4. 重启 IDE

## 使用方法

安装插件后，当你在有 Git 版本控制的文件中移动光标时，状态栏会显示当前行的 Git blame 信息。

## 版本兼容性

- 支持 IntelliJ IDEA 版本：231-263 (2023.3 到 2026.3)
- 需要 Git4Idea 插件支持

## 故障排除

如果构建失败，可能的原因：
1. 网络连接问题 - 需要下载 Gradle 依赖
2. Java 版本不兼容 - 需要 Java 17+
3. IntelliJ IDEA 版本不匹配 - 检查 build.gradle.kts 中的版本设置

## 开发说明

插件的核心组件：

1. **GitBlameStatusBarWidget** - 状态栏显示组件
2. **GitBlameService** - 获取 Git blame 信息的服务
3. **GitBlameEditorListener** - 监听编辑器事件
4. **GitBlameStatusBarWidgetFactory** - 创建状态栏组件的工厂

插件会在光标移动时自动更新状态栏显示的 Git blame 信息。